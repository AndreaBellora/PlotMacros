Root OutputFiles/Run315512_efficiencyVsXi.root OutputFiles/Run315512_interpotEfficiency.root OutputFiles/Run315512_refinedEfficiency.root OutputFiles/Run315512.root OutputFiles/Run319337* OutputFiles/Run323487* OutputFiles/Run324841_efficiencyVsXi.root OutputFiles/Run324841_interpotEfficiency.root OutputFiles/Run324841_refinedEfficiency.root OutputFiles/Run324841.root


setRectangularPlots()
setTDRStyle()
TCanvas c
c.SetWindowSize(1430,1023)

_file2->cd()
gDirectory->cd("Arm0_st2_rp3")
h2RefinedTrackEfficiency_arm0_st2_rp3->Draw("colz")
setRange_st2_rectangular(true)
CMS_lumi(&c,0,0,"LHC Sector 45 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_2_Run315512_WholeSensor.png")

_file2->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st2_rectangular(true)
CMS_lumi(&c,0,0,"LHC Sector 56 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_2_Run315512_WholeSensor.png")

_file2->cd()
gDirectory->cd("Arm0_st0_rp3")
h2RefinedTrackEfficiency_arm0_st0_rp3->Draw("colz")
setRange_st0_rectangular(true)
CMS_lumi(&c,0,0,"LHC Sector 45 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_0_Run315512_WholeSensor.png")

_file2->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st0_rectangular(true)
CMS_lumi(&c,0,0,"LHC Sector 56 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_0_Run315512_WholeSensor.png")

_file3->cd()
gDirectory->cd("Arm0_st2_rp3")
h2TrackHitDistribution_arm0_st2_rp3->Draw("colz")
c.SetLogz()
setRange_st2_rectangular()
CMS_lumi(&c,0,0,"LHC Sector 45 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_TrackHitDistribution_0_2_Run315512.png")

_file3->cd()
gDirectory->cd("Arm1_st2_rp3")
h2TrackHitDistribution_arm1_st2_rp3->Draw("colz")
c.SetLogz()
setRange_st2_rectangular()
CMS_lumi(&c,0,0,"LHC Sector 56 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_TrackHitDistribution_1_2_Run315512.png")

_file3->cd()
gDirectory->cd("Arm0_st0_rp3")
h2TrackHitDistribution_arm0_st0_rp3->Draw("colz")
c.SetLogz()
setRange_st0_rectangular()
CMS_lumi(&c,0,0,"LHC Sector 45 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_TrackHitDistribution_0_0_Run315512.png")

_file3->cd()
gDirectory->cd("Arm1_st0_rp3")
h2TrackHitDistribution_arm1_st0_rp3->Draw("colz")
c.SetLogz()
setRange_st0_rectangular()
CMS_lumi(&c,0,0,"LHC Sector 56 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_TrackHitDistribution_1_0_Run315512.png")


setSquarePlots()
setTDRStyle()
TCanvas c1
c1.SetWindowSize(1101,1023)

_file2->cd()
gDirectory->cd("Arm0_st2_rp3")
h2RefinedTrackEfficiency_arm0_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_2_Run315512.png")

_file2->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_2_Run315512.png")

_file2->cd()
gDirectory->cd("Arm0_st0_rp3")
h2RefinedTrackEfficiency_arm0_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_0_Run315512.png")

_file2->cd()
gDirectory->cd("Arm1_st0_rp3")
h2RefinedTrackEfficiency_arm1_st0_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_0_Run315512.png")

_file6->cd()
gDirectory->cd("Arm0_st2_rp3")
h2RefinedTrackEfficiency_arm0_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_2_Run319337.png")

_file6->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_2_Run319337.png")

_file6->cd()
gDirectory->cd("Arm0_st0_rp3")
h2RefinedTrackEfficiency_arm0_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_0_Run319337.png")

_file6->cd()
gDirectory->cd("Arm1_st0_rp3")
h2RefinedTrackEfficiency_arm1_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_0_Run319337.png")

_file10->cd()
gDirectory->cd("Arm0_st2_rp3")
h2RefinedTrackEfficiency_arm0_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_2_Run323487.png")

_file10->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_2_Run323487.png")

_file10->cd()
gDirectory->cd("Arm0_st0_rp3")
h2RefinedTrackEfficiency_arm0_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_0_Run323487.png")

_file10->cd()
gDirectory->cd("Arm1_st0_rp3")
h2RefinedTrackEfficiency_arm1_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_0_Run323487.png")

_file14->cd()
gDirectory->cd("Arm0_st2_rp3")
h2RefinedTrackEfficiency_arm0_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_2_Run324841.png")

_file14->cd()
gDirectory->cd("Arm1_st2_rp3")
h2RefinedTrackEfficiency_arm1_st2_rp3->Draw("colz")
setRange_st2_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 220 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_2_Run324841.png")

_file14->cd()
gDirectory->cd("Arm0_st0_rp3")
h2RefinedTrackEfficiency_arm0_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 45 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_0_0_Run324841.png")

_file14->cd()
gDirectory->cd("Arm1_st0_rp3")
h2RefinedTrackEfficiency_arm1_st0_rp3->Draw("colz")
setRange_st0_square()
CMS_lumi(&c1,0,0,"LHC Sector 56 210 FAR")
c1.Print("~/cernbox/PPS/PlotsForDPGNote/2018_RefinedEfficiency_1_0_Run324841.png")


// EFFiciencyVsXi
Root OutputFiles/Run315512_efficiencyVsXi.root OutputFiles/Run324841_efficiencyVsXi.root

setRectangularPlots()
setTDRStyle()
TCanvas c
c.SetWindowSize(1430,1023)

TH1D* hBegin = new TH1D(*((TH1D*)_file0->Get("Arm0_st0_rp3/h1EfficiencyVsXi_arm0_st0_rp3")))
TH1D* hEnd = new TH1D(*((TH1D*)_file1->Get("Arm0_st0_rp3/h1EfficiencyVsXi_arm0_st0_rp3")))
for(auto i=0;i<hBegin->GetNbinsX();i++){if(hBegin->GetBinContent(i) != 0 )hBegin->SetBinError(i,0.01);if(hBegin->GetBinContent(i) != 0 )hEnd->SetBinError(i,0.01);}

hBegin->SetLineColor(kBlue)
hBegin->SetMarkerColor(kBlue)
hBegin->SetMarkerStyle(kFullSquare)
hBegin->SetFillColor(38)
hBegin->Draw("P E2")
hBegin->Draw("P E1 same")
hBegin->SetTitle("Beginning of data taking")

hEnd->SetLineColor(kRed)
hEnd->SetMarkerColor(kRed)
hEnd->SetMarkerStyle(kFullTriangleUp)
hEnd->SetFillColor(45)
hEnd->SetMarkerSize(1.3)
hEnd->Draw("P E2 same")
hEnd->Draw("P E1 same")
hEnd->SetTitle("L_{int} = 57.8 fb^{-1}")

auto legend_0_0 = new TLegend(0.65,0.1,0.9,0.25)
legend_0_0->SetMargin(0.2)
legend_0_0->AddEntry(hBegin,"Beginning of data taking","lp")
legend_0_0->AddEntry(hEnd,"L_{int} = 57.8 fb^{-1}","lp")
legend_0_0->Draw()
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetXaxis()->SetRangeUser(0, 0.14)
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetYaxis()->SetRangeUser(0.001, 1.1)
CMS_lumi(&c,0,0,"LHC Sector 45 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsXi_0_0_Run315512_Run324841.png")

hBegin = new TH1D(*((TH1D*)_file0->Get("Arm0_st2_rp3/h1EfficiencyVsXi_arm0_st2_rp3")))
hEnd = new TH1D(*((TH1D*)_file1->Get("Arm0_st2_rp3/h1EfficiencyVsXi_arm0_st2_rp3")))
for(auto i=0;i<hBegin->GetNbinsX();i++){if(hBegin->GetBinContent(i) != 0 )hBegin->SetBinError(i,0.01);if(hBegin->GetBinContent(i) != 0 )hEnd->SetBinError(i,0.01);}

hBegin->SetLineColor(kBlue)
hBegin->SetMarkerColor(kBlue)
hBegin->SetMarkerStyle(kFullSquare)
hBegin->SetFillColor(38)
hBegin->Draw("P E2")
hBegin->Draw("P E1 same")
hBegin->SetTitle("Beginning of data taking")

hEnd->SetLineColor(kRed)
hEnd->SetMarkerColor(kRed)
hEnd->SetMarkerStyle(kFullTriangleUp)
hEnd->SetFillColor(45)
hEnd->SetMarkerSize(1.3)
hEnd->Draw("P E2 same")
hEnd->Draw("P E1 same")
hEnd->SetTitle("L_{int} = 57.8 fb^{-1}")

auto legend_0_2 = new TLegend(0.65,0.1,0.9,0.25)
legend_0_2->SetMargin(0.2)
legend_0_2->AddEntry(hBegin,"Beginning of data taking","lp")
legend_0_2->AddEntry(hEnd,"L_{int} = 57.8 fb^{-1}","lp")
legend_0_2->Draw()
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetXaxis()->SetRangeUser(0, 0.14)
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetYaxis()->SetRangeUser(0.001, 1.1)
CMS_lumi(&c,0,0,"LHC Sector 45 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsXi_0_2_Run315512_Run324841.png")

hBegin = new TH1D(*((TH1D*)_file0->Get("Arm1_st0_rp3/h1EfficiencyVsXi_arm1_st0_rp3")))
hEnd = new TH1D(*((TH1D*)_file1->Get("Arm1_st0_rp3/h1EfficiencyVsXi_arm1_st0_rp3")))
for(auto i=0;i<hBegin->GetNbinsX();i++){if(hBegin->GetBinContent(i) != 0 )hBegin->SetBinError(i,0.01);if(hBegin->GetBinContent(i) != 0 )hEnd->SetBinError(i,0.01);}

hBegin->SetLineColor(kBlue)
hBegin->SetMarkerColor(kBlue)
hBegin->SetMarkerStyle(kFullSquare)
hBegin->SetFillColor(38)
hBegin->Draw("P E2")
hBegin->Draw("P E1 same")
hBegin->SetTitle("Beginning of data taking")

hEnd->SetLineColor(kRed)
hEnd->SetMarkerColor(kRed)
hEnd->SetMarkerStyle(kFullTriangleUp)
hEnd->SetFillColor(45)
hEnd->SetMarkerSize(1.3)
hEnd->Draw("P E2 same")
hEnd->Draw("P E1 same")
hEnd->SetTitle("L_{int} = 57.8 fb^{-1}")

auto legend_1_0 = new TLegend(0.65,0.1,0.9,0.25)
legend_1_0->SetMargin(0.2)
legend_1_0->AddEntry(hBegin,"Beginning of data taking","lp")
legend_1_0->AddEntry(hEnd,"L_{int} = 57.8 fb^{-1}","lp")
legend_1_0->Draw()
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetXaxis()->SetRangeUser(0, 0.16)
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetYaxis()->SetRangeUser(0.001, 1.1)
CMS_lumi(&c,0,0,"LHC Sector 56 210 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsXi_1_0_Run315512_Run324841.png")

hBegin = new TH1D(*((TH1D*)_file0->Get("Arm1_st2_rp3/h1EfficiencyVsXi_arm1_st2_rp3")))
hEnd = new TH1D(*((TH1D*)_file1->Get("Arm1_st2_rp3/h1EfficiencyVsXi_arm1_st2_rp3")))
for(auto i=0;i<hBegin->GetNbinsX();i++){if(hBegin->GetBinContent(i) != 0 )hBegin->SetBinError(i,0.01);if(hBegin->GetBinContent(i) != 0 )hEnd->SetBinError(i,0.01);}

hBegin->SetLineColor(kBlue)
hBegin->SetMarkerColor(kBlue)
hBegin->SetMarkerStyle(kFullSquare)
hBegin->SetFillColor(38)
hBegin->Draw("P E2")
hBegin->Draw("P E1 same")
hBegin->SetTitle("Beginning of data taking")

hEnd->SetLineColor(kRed)
hEnd->SetMarkerColor(kRed)
hEnd->SetMarkerStyle(kFullTriangleUp)
hEnd->SetFillColor(45)
hEnd->SetMarkerSize(1.3)
hEnd->Draw("P E2 same")
hEnd->Draw("P E1 same")
hEnd->SetTitle("L_{int} = 57.8 fb^{-1}")

auto legend_1_2 = new TLegend(0.65,0.1,0.9,0.25)
legend_1_2->SetMargin(0.2)
legend_1_2->AddEntry(hBegin,"Beginning of data taking","lp")
legend_1_2->AddEntry(hEnd,"L_{int} = 57.8 fb^{-1}","lp")
legend_1_2->Draw()
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetXaxis()->SetRangeUser(0, 0.16)
((TH2D *)gPad->GetListOfPrimitives()->At(1))->GetYaxis()->SetRangeUser(0.001, 1.1)
CMS_lumi(&c,0,0,"LHC Sector 56 220 FAR")
c.Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsXi_1_2_Run315512_Run324841.png")

// For efficiency vs. lumi plots
gStyle->SetCanvasDefH(1025)
gStyle->SetCanvasDefW(1853)
gStyle->SetOptTitle(0);
gStyle->SetPadTickX(1);
.x EfficiencyVsLumiPlot.C
cAvgEfficiencyPeakFitted->cd();
CMS_lumi(cAvgEfficiencyPeakFitted,0,0," Irradiation Peak Area")
cAvgEfficiencyPeakFitted->Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsLumi_Peak.png")
cControlAreaEfficiency->cd();
CMS_lumi(cControlAreaEfficiency,0,0,"Complementary Area")
cControlAreaEfficiency->Print("~/cernbox/PPS/PlotsForDPGNote/2018_EffVsLumi_Complementary.png")
